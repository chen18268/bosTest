<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>树形菜单整合</title>
		<script src="../webapp/js/jquery-1.8.3.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="../webapp/js/easyui/jquery.easyui.min.js"></script>
		<script type="text/javascript" src="../webapp/js/easyui/locale/easyui-lang-zh_CN.js"></script>
		<link rel="stylesheet" href="../webapp/js/easyui/themes/icon.css" />
		<link rel="stylesheet" href="../webapp/js/easyui/themes/default/easyui.css" />

		<script src="../webapp/js/ztree/jquery.ztree.all-3.5.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="../webapp/js/ztree/zTreeStyle.css"  />
		<script type="text/javascript"> 
			$(function(){ 
				var setting = { 
					data: { 
						simpleData:{ 
							enable:true 
						} 
					}, 
					
					callback: {
						onClick: function(event, treeId, treeNode, clickFlag){
							var content = '<div style="width:100%;height:100%;overflow:hidden;">'
								+ '<iframe src="'
								+ treeNode.page
								+ '" scrolling="auto" style="width:100%;height:100%;border:0;" ></iframe></div>';

							//alert(treeNode.page);
							
							if(treeNode.page != undefined && treeNode.page != ""){
								if($("#mytabs").tabs('exists',treeNode.name)){
									// 选中选项卡
									$("#mytabs").tabs('select',treeNode.name);
								}else{
									// 如果没有打开，添加选项卡 
									$("#mytabs").tabs('add',{
										title:treeNode.name,
										content: content,
										closable :true
									});
								}

							}
						}
					}
				}; 
				
				var zNodes = [ 
					{id:1, pId:0, name: "父节点1"}, 
					{id:11, pId:1, name: "子节点1"}, 
					{id:12, pId:1, name: "子节点2"},
					{id:13,pId:1, name: "百度", page:"https://www.baidu.com"},
					{id:14,pId:1, name: "新浪", page:"http://www.sina.com.cn"}
				]; 
				
				$.fn.zTree.init($("#baseMenu"), setting, zNodes); 
			});
		</script>

	</head>

	<body class="easyui-layout">
		<div data-options="region:'north',title:'杭州黑马'" style="height:100px;">
			<div>

			</div>
		</div>
		<div data-options="region:'south',title:'南'" style="height:100px;">
			<div>

			</div>
		</div>
		<div data-options="region:'center'">
			<div id="mytabs" class="easyui-tabs" data-options="fit:true">
				<div data-options="title:'tab1'">tab1 </div>

				<div data-options="title:'tab2',closable:true">tab2 </div>

				<div data-options="title:'tab3',iconCls:'icon-reload',closable:true">tab3 </div>

			</div>
		</div>
		<div data-options="region:'west',title:'菜单导航'" style="width:100px;">
			<div class="easyui-accordion" data-options="fit:true">
				<div data-options="title:'基础菜单'">
					<ul id="baseMenu" class="ztree"></ul>
				</div>
				<div data-options="title:'系统菜单'">
					白马
				</div>
			</div>
		</div>
		<!--<div data-options="region:'west',title:'菜单导航'" style="width: 180px;">
			
			<div class="easyui-accordion" data-options="fit:true">
				<div data-options="title:'基础菜单'">
					
					<ul id="baseMenu" class="ztree"></ul>
				</div>
				<div data-options="title:'系统菜单'">面板二</div>
			</div>
		</div>-->

		<div data-options="region:'east',title:'东'" style="width:100px;">
			<div>

			</div>
		</div>
	</body>

</html>